<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>3-1添加题目-单选题</title>
<link rel="stylesheet" type="text/css" href="../theme/1/css/common.css">
<link rel="stylesheet" type="text/css" href="../theme/1/css/style.css">
<link rel="stylesheet" type="text/css" href="../theme/1/css/EditingArea.css">
<link rel="stylesheet" type="text/css" href="../theme/1/css/table.css">
<link rel="stylesheet" type="text/css" href="../theme/1/css/icon.css">
<link rel="stylesheet" type="text/css" href="../theme/1/css/zy.css">
<script src="../jquery-2.1.4/jquery.min.js"></script>
<script src="../jquery-2.1.4/jquery.min.js"></script>
</head>

<body>
<div class="main">
	<div id="top">
    	<div class="top">
        	<div class="tk_logo"></div>
            <div class="t_sign">
            	<span>你好，管理员</span><a href="#" class="t_exit">退出</a>
            </div>
            <div class="t_icon">
            	<ul>
                	<li><a href="#" class="t1"><span>桌面</span></a></li>
                    <li><a href="#" class="t2"><span>换肤</span></a></li>
                    <li><a href="#" class="t3"><span>关于</span></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="cont">
    	<div class="centent">
        	<div class="left c_view">
            	<ul class="baseUI">
                    <li><a href="#"><em class="base_basicset"></em><span>题库</span></a>
                        <ul>
                            <li class="current"><a href="#">全部题目</a></li>
                            <li><a href="#">题目管理</a></li>
                        </ul>
                    </li>
                    <li><a href="#"><em class="base_userset"></em><span>试卷管理</span></a>
                        <ul>
                            <li><a href="#">试卷列表</a></li>
                            <li><a href="#">手工组卷</a></li>
                        </ul>
                    </li>
                    <li><a href="#"><em class="base_teachergroup"></em><span>考试管理</span></a>
                        <ul>
                            <li><a href="#">考试列表</a></li>
                            <li><a href="#">考试安排</a></li>
                        </ul>
                    </li>
                   
                </ul>
            </div>
            <div class="right">
            	<div class="editingarea">
                    <div class="c_flex"><span class="c_flexible"></span></div>
                    <div class="Topictitle">添加题目</div>
                	<div class="c_editview">
                        <!--问题类型  方向  题干等的父级  -->
                        <div class="Problem">
                            <!--显示问题的类型，题干等  -->
                            <div class="Attributetit">
                                <span class="A_Subject_title" value=""+kk+"">题目题干</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                <!--显示类型的下拉菜单  -->
                                <span>类型：</span>
                                <select name="" id="type_add">
                                    
                                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                <!--显示难度的  -->
                                <span>难易程度：</span>
                                <select name="" id="level_add">
                                
                                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                <!--显示方向的  -->
                                <span>方向：</span>
                                <select name="" id="topic_add">
                                
                                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                <!--显示知识点  -->
                                <span>知识点：</span>
                                <select name="" id="epartment_add">
                                
                                </select>
                            </div>

                            <!--描述问题的信息  题目  -->
                            <div class="Problemcontent" id="quest_stem">
                                <textarea name="" id="" cols="80" rows="2"></textarea>
                            </div>
                        </div>

                        <!--默认显示  类型为单选题的所有内容的属性  -->
                        <div class="Answeroptions">
                             <!-- <div class="Attributetit">答案选项<em>(通过勾选每个选项下面的框难吃时间点咳嗽打开)</em></div>  -->
                            <div class="c_condition">
                                <span class="icon_add"><em class="icon_r" style="float: left">添加选项</em></span>
                            </div>
                            <div class="Answercontent">

                                  <!--选项A的父级  -->
                                  <div class="Answerpart">
                                     <div class="Answerpart_left">
                                         <p>A</p><span><input type="radio" name="seleAnsw"/></span>
                                     </div>
                                     <div class="Answerpart_right"></div>
                                     <div class="clear"></div>
                                  </div>

                                <!--选项B的父级  -->
                                <div class="Answerpart">
                                    <div class="Answerpart_left">
                                        <p>B</p><span><input type="radio" name="seleAnsw"/></span>
                                    </div>
                                    <div class="Answerpart_right"></div>
                                    <div class="clear"></div>
                                </div>

                                <!--选项C的父级  -->
                                <div class="Answerpart">
                                    <div class="Answerpart_left">
                                        <p>C</p><span><input type="radio" name="seleAnsw"/></span>
                                    </div>
                                    <div class="Answerpart_right"></div>
                                    <div class="clear"></div>
                                </div>

                                <!--选项D的父级  -->
                                <div class="Answerpart">
                                    <div class="Answerpart_left">
                                        <p>D</p><span><input type="radio" name="seleAnsw"/></span>
                                    </div>
                                    <div class="Answerpart_right"></div>
                                    <div class="clear"></div>
                                </div>
                                <!--kklll  -->
                                  <div class="clear" id="AmionDiv"></div>
                                  <div class="Problem">
                                    <div class="Attributetit">答案解析</div>
                                    <div class="Problemcontent" id="quest_answer">
                                        <textarea name="" id="" cols="80" rows="2"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="btn_left">
                            <span class="btnL"><em class="btnR">保存并继续</em></span>
                            <span class="btnL"><em class="btnR">保存并关闭</em></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clear"></div>
            
        </div>
    </div>
    <div id="foot"><a href="#">上海师悦信息科技有限公司</a></div>
</div>
</body>

<script>
    $(function(){

        // 题干加id
            $.getJSON('/exam/manger/find_subject',function(data){
                $('.A_Subject_title').attr('value','');
                var Subject_index =1;
                data.forEach(function(item,index){
                    Subject_index++;
                })
                $('.A_Subject_title').attr('value',''+Subject_index+'');
                console.log(Subject_index,'Subject_index');
            })



        /*类型信息*/
        // $('#type_add').on('click',function(){
            
            $.getJSON('/exam/manger/subject_type',function(data){
                $('#type_add').empty();
                data.forEach(function(item,index){
                    // <option value="" class=""></option>
                    console.log(item);
                    // id: 3, name: "question", realName: "简答题
                    var option = $('<option value="'+item.id+'">'+item.realName+'</option>');
                    $('#type_add').append(option);
                })
                $('.c_editview .Answeroptions .c_condition').hide();
            })
        // });

        /*方向信息*/
        // $('#topic_add').on('click',function(){
            // alert();

            $.getJSON('/exam/manger/find_topic',function(data){
                $('#topic_add').empty();
                data.forEach(function(item,index){
                    // <option value="" class=""></option>
                    console.log(item);
                    // id: 4, title: "jQuery", department_id: 1
                    var option = $('<option value="'+item.id+'">'+item.title+'</option>');
                    $('#topic_add').append(option);
                })
            })
        // });



        /*难易程度信息*/
        // $('#level_add').on('click',function(){
            // alert();
            $('#level_add').empty();
            $.getJSON('/exam/manger/subject_level',function(data){
                data.forEach(function(item,index){
                    // <option value="" class=""></option>
                    console.log(item);
                    // id: 3, name: "difficult", realName: "难"
                    var option = $('<option value="'+item.id+'">'+item.realName+'</option>');
                    $('#level_add').append(option);
                })
            })
        // });



        /*知识点信息*/
        
        // $('#epartment_add').on('click',function(){
            // alert();
            $('#epartment_add').empty();
            $.getJSON('/exam/manger/find_epartment',function(data){
                data.forEach(function(item,index){
                    // <option value="" class=""></option>
                    console.log(item);
                    // id: 1, name: "WebUI"
                    var option = $('<option value="'+item.id+'">'+item.name+'</option>');
                    $('#epartment_add').append(option);
                })
            })
        // });

        /*$('#type_add').on('selected',function(){
            // $('.c_editview Problem #type_add option:selected')
            var sele_one = $('.c_editview Problem #type_add option:selected').get();
            if(sele_one == 1){
                alert("1");
            }else if(sele_one == 2){
                alert("2");
            }else{
                alert("3");
            }
        });*/
        // 选中selected的选项
        // addSeleMM();   

    });


    $("#type_add").change(function(){
        // alert("hello");
        var sele_one = $('.c_editview #type_add option:selected').val();
        console.log(sele_one);
        if(sele_one == 1){
            // alert("1");
            $('.c_editview .Answeroptions .Answerpart').show();
            $('.c_editview .Answeroptions .c_condition').hide();
            $('#A_Show_select').remove();
            // addSeleMM();
        }else if(sele_one == 2){
            $('.c_editview .Answeroptions .Answerpart').show();
            $('.c_editview .Answeroptions .c_condition').show();
            



            //   添加选项
            var seleContArr = ['D','E','F','G','H','I','J','K','L','M','N','O','P'];
            var seleContIndex = 0;
            $('.Answeroptions .c_condition .icon_add').on('click',function(){
                seleContIndex++;
                // alert('hello22222');
                // var $input = $('.Answeroptions .Answercontent .Answerpart').clone();
                // console.log($input.find('p').html());
                // $('.Answeroptions .Answercontent').append($input);
                $('#AmionDiv').before('<div class="Answerpart" id="A_Show_select"><div class="Answerpart_left"><p>'+seleContArr[seleContIndex]+'</p><span><input type="radio" name="seleAnsw"/></span></div><div class="Answerpart_right"></div><div class="clear"></div></div>');
                // alert('tianjiaol');
            });

            //   移除name属性
            $('.Answerpart_left input').removeAttr('name');
            $('.Answerpart_left input').attr('type','checkbox');
        }else if(sele_one == 3){
            // alert('hello divmm');
            $('.c_editview .Answeroptions .c_condition').hide();
            $('.Answercontent .Answerpart').hide();
            
            // c_condition
        }else{
            alert("default");
        }
    });


    // $().on('click',function(){});
    $(".btn_left .btnR").click(function(){
        //   保存点击时标签里的内容
        var SumitContM = $(this).html();
        console.log(SumitContM);
        // alert("准备延迟");
        console.log("准备延迟");
        setTimeout(function(){
            var A_type_add_Cont = $('.Attributetit #type_add option:selected').val();
            var A_epartment_add_Cont = $('.Attributetit #epartment_add option:selected').val();
            var A_level_add_Cont = $('.Attributetit #level_add option:selected').val();
            var A_topic_add_Cont = $('.Attributetit #topic_add option:selected').val();
            var stem = $('#quest_stem textarea').val();
            var answer = $('#quest_answer textarea').val();
            if(A_type_add_Cont != 3){
                if(A_type_add_Cont != 2){
                    // console.log('hello  1');
                    
                }else{

                }
            }
            console.log('answer',answer);
            console.log('stem',stem);

            //     测试是否成功获取
            /*
            console.log(A_type_add_Cont,'A_type_add_Cont');
            console.log(A_epartment_add_Cont,'A_epartment_add_Cont');
            console.log(A_level_add_Cont,'A_level_add_Cont');
            console.log(A_topic_add_Cont,'A_topic_add_Cont');
            */

            alert("延迟了吗？");
        }, 1000);
    })



</script>


</html>










<!--



    // function addSeleMM(){
        // $('.Answeroptions .c_condition .icon_add').on('click',function(){
        //     alert('hello');
        //     var $input = $('.Answeroptions .Answercontent .Answerpart').clone();
        //     $('.Answeroptions .Answercontent').append($input);
        // });
    // }

    /*$(function(){
        $('.c_editview Problem #type_add option:selected')
        var sele_one = $('.c_editview Problem #type_add option:selected').get();
        if(sele_one != 3){
            alert('显示下面的页面');
            $('.c_editview .Answeroptions').hide();
            $('.c_editview .Problem').show();
        }
    });
    */    



  -->
